<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Churn Prediction </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div class="c1">
            <div class="c11">
                <h1 class="mainhead text-capitalize">Customer's Name</h1>
                <p class="mainp">---</p>
                <div class="d-flex justify-content-center">
                    <div class="emoji-smile d-none">
                        <div class="face">
                            <div class="eyebrow-left"></div>
                            <div class="eyebrow-right"></div>
                            <div class="eye-left"></div>
                            <div class="eye-right"></div>
                            <div class="mouth-happy"></div>
                        </div>

                    </div>
                    <div class="emoji-sad d-none">
                        <div class="face">
                            <div class="eyebrow-left"></div>
                            <div class="eyebrow-right"></div>
                            <div class="eye-left"></div>
                            <div class="eye-right"></div>
                            <div class="mouth-sad"></div>
                        </div>
                    </div>
                </div>


                <div class="d-flex justify-content-center d-none" id="loading">
                    <div class="spinner-border" role="status">
                        <span class="visually-hidden d-flex justify-content-center">Loading...</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="c2">
            <form class="mx-5 my-3" id="form">
                <h1 class="title mb-3">Customer Chrun Prediction</h1>
                <div class="row">
                    <div class="col">
                        <div class="row mb-3">
                            <input type="text" required placeholder="Name" name="Name" id="Name" class="form-control">
                        </div>
                        <div class="row mb-3">
                            <select required class="form-select" id="gender" name="gender">
                                <option selected disabled>Gender...</option>
                                <option value="1">Male</option>
                                <option value="0">Female</option>
                            </select>
                        </div>

                        <div class="row mb-3">
                            <input required type="number" placeholder="Tenure" id="tenure" name="tenure" class="form-control">
                        </div>
                        <div class="row mb-3">
                            <select required class="form-select" id="Contract" name="Contract">
                                <option selected disabled>Contract...</option>
                                <option value="0">Month to month</option>
                                <option value="1">One Year</option>
                                <option value="2">Two Year</option>
                            </select>
                        </div>
                        <div class="row mb-3">
                            <input required type="number" placeholder="Monthly Charges" id="MonthlyCharges" name="MonthlyCharges" class="form-control">
                        </div>
                        <div class="row mb-3">
                            <input required type="number" placeholder="Total Charges" id="TotalCharges" name="TotalCharges" class="form-control">
                        </div>
                    </div>
                    <div class="col offset-md-1">

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" name="SeniorCitizen" id="SeniorCitizen">
                            <label class="form-check-label" for="SeniorCitizen">
                                Senior Citizen
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" name="Partner" id="Partner">
                            <label class="form-check-label" for="Partner">
                                Partner
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="dependents" name="dependents">
                            <label class="form-check-label" for="dependents">
                                Dependents
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="PhoneService" name="PhoneService">
                            <label class="form-check-label" for="PhoneService">
                                Phone Service
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="MultipleLines" name="MultipleLines">
                            <label class="form-check-label" for="MultipleLines">
                                Multiple Lines
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="OnlineSecurity" name="OnlineSecurity">
                            <label class="form-check-label" for="OnlineSecurity">
                                Online Security
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="OnlineBackup" name="OnlineBackup">
                            <label class="form-check-label" for="OnlineBackup">
                                Online Backup
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="DeviceProtection" name="DeviceProtection">
                            <label class="form-check-label" for="DeviceProtection">
                                Device Protection
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="TechSupport" name="TechSupport">
                            <label class="form-check-label" for="TechSupport">
                                Dependents
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="StreamingTV" name="StreamingTV">
                            <label class="form-check-label" for="StreamingTV">
                                Streaming TV
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="StreamingMovies" name="StreamingMovies">
                            <label class="form-check-label" for="StreamingMovies">
                                Streaming Movies
                            </label>
                        </div>



                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="PaperlessBilling" name="PaperlessBilling">
                            <label class="form-check-label" for="PaperlessBilling">
                                Paperless Billing
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="InternetService_DSL" name="InternetService_DSL">
                            <label class="form-check-label" for="InternetService_DSL">
                                Internet Service DSL
                            </label>
                        </div>

                    </div>
                    <div class="col">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="InternetService_Fiber" name="InternetService_Fiber">
                            <label class="form-check-label" for="InternetService_Fiber">
                                Internet Service Fiber Optic
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="InternetService_No" name="InternetService_No">
                            <label class="form-check-label" for="InternetService_No">
                                Internet Service No
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="PaymentMethod_Bank" name="PaymentMethod_Bank">
                            <label class="form-check-label" for="PaymentMethod_Bank">
                                Payment Method Bank Transfer
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="PaymentMethod_Credit" name="PaymentMethod_Credit">
                            <label class="form-check-label" for="PaymentMethod_Credit">
                                Payment Method Credit
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="PaymentMethod_Electronic" name="PaymentMethod_Electronic">
                            <label class="form-check-label" for="PaymentMethod_Electronic">
                                Payment Method Electronic
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="1" id="PaymentMethod_Mailed" name="PaymentMethod_Mailed">
                            <label class="form-check-label" for="PaymentMethod_Mailed">
                                Payment Method Mailed
                            </label>
                        </div>
                    </div>
                </div>
                <div class="text-end">
                    <button class="btn text-right" type="submit" id="check">Check</button>
                </div>
            </form>

        </div>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="script.js"></script>
    <script>
        //    onkeyup on name
        $("#Name").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $('.mainhead').text(value)
        });


        $('#form').submit(function (e) {
            e.preventDefault();
            var formData = $('#form').serialize()
            // hide form
            $('.c2').hide(500);
            $("#loading").removeClass("d-none");
            $(".emoji-smile, .emoji-sad").addClass("d-none")
            $.ajax({
                type: 'POST',
                url: 'https://api-customer-chrun.herokuapp.com/predict',
                data: formData,
                crossDomain: true,
                success: (data) => {
                    $(".mainp").text(data.message)
                    if (data.prediction == 0) {
                        $(".emoji-smile").removeClass("d-none")
                        $(".emoji-sad").addClass("d-none")
                    } else {
                        $(".emoji-smile").addClass("d-none")
                        $(".emoji-sad").removeClass("d-none")
                    }
                    $('.c2').show(500);
                    $("#loading").addClass("d-none");
                },
                error: (xhr, status, error) => {
                    $('.c2').show(500);
                    $("#loading").addClass("d-none");
                    Swal.fire({
                        title: 'Whoops!',
                        icon: 'error',
                    })
                }
            });



        });
    </script>
</body>

</html>